server:
  port: 8080

spring:
  application:
    name: betteryou-backend

  datasource:
    url: jdbc:postgresql://ep-crimson-queen-ab7d5yoc-pooler.eu-west-2.aws.neon.tech/betteryou_db?user=neondb_owner&password=npg_yzkwA5gZb7BT&sslmode=require&channelBinding=require
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect

# ✅ Actuator (pour /actuator/health)
management:
  endpoints:
    web:
      exposure:
        include: "health,info"
  endpoint:
    health:
      show-details: "always"

# ✅ IA (Ollama)

ai:
  provider: github-models
  model: gpt-4.1
  timeout-seconds: 600
  github:
    # Use env var GITHUB_MODELS_API_KEY (personal access token) - do NOT commit this
    api-key: ${GITHUB_MODELS_API_KEY:}
    base-url: https://models.inference.ai.azure.com
    model: ${AI_GITHUB_MODEL:${ai.model:gpt-4.1}}
    api-version: 2024-09-01-preview   # ou la valeur indiquée par la doc GitHub Models
